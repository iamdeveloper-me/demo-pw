<!--Calendar Starts-->
<div id="wrapper" class="toggled">
	<div id="sidebar-wrapper">
		<app-vendorsidebar></app-vendorsidebar>
	</div>
	<div id="page-content-wrapper">
		<app-navemenu></app-navemenu>
		<div class="container mobilefixedcontainer">
			<div>
				<ul class="tabbingdesign">
                    <li class="card-title selected weddingjobstab">My Wedding Jobs</li>
                    
                    <li class="card-title calendartab">Wedding Calendar
                    </li>
				</ul> 
			
			</div>
				<div class="row">
					<div class="container">
						<div class="col-md-12">
									{{test }}
						</div>	
					</div>	
				</div>	

			<div class="row calendarcontainer">
				<div class="clearfix"></div>
				<section id="weddingjobs" class="col-sm-12">
					<div class="col-sm-12 mobnopadd padleft0px">
						<div class="card mobileviewcontent card_padd_bottom">
							<div class="card-header_padd  border_bottom_none card-header-warning card-header-icon">
								<div class="col-md-12 ">
									<p class="card-category upcominghead"> <b>  My Wedding Jobs </b> 
									<button class="float_righ"  (click)="addEvent()">Add Job</button></p>
								</div>
							</div>
								
							<div class="card">
								<div class="card-body">
									<div class="card-block calendartabjob">
										<ngb-tabset type="pills">
											<ngb-tab title="Upcoming">
												<ng-template ngbTabContent>
														<div class="upcominglisthomepage"  *ngFor="let job of jobArray">
														   <div  *ngIf="job.jobDate >= test" >
																<div class="col-sm-5 col-8">
																	<i class="material-icons">date_range</i>  {{job.jobDate |  date:'medium' }}<br/>
																	<ul>
																		<li>Guests: {{job.numberOfPeople}}</li>
																		<li>Name: {{job.clientName}}</li>
																	
																	</ul>
																</div>
																<div class="col-sm-3 col-4 upcomingright">
																	<div>
																		<i class="material-icons ">location_on
																		</i>{{job.jobLocation}}
																	</div>
																	{{job.clientPhoneNumber}}																<br/>
																	<button class="callbutton">Call</button>
																</div>
																<div class="col-sm-4 col-4 upcomingright">
																			
																		<button type="button" class="btn btn-danger whitetext" >delete {{job.vendorJobsId}}</button>
																</div>
															</div>
														</div> 
												</ng-template>
											</ngb-tab>
											<ngb-tab title="Past">
												<ng-template ngbTabContent>
														<div *ngFor="let job of jobArray">
																<div class="upcominglisthomepage"  *ngIf="job.jobDate < test" >
																	 <div class="col-sm-5 col-8">
																		 <i class="material-icons">date_range</i>  {{job.jobDate |  date:'medium' }}<br/>
																		 <ul>
																			 <li>Guests: {{job.numberOfPeople}}</li>
																			 <li>Name: {{job.clientName}}</li>
																		 
																		 </ul>
																	 </div>
																	 <div class="col-sm-3 col-4 upcomingright">
																		 <div>
																			 <i class="material-icons ">location_on
																			 </i>{{job.jobLocation}}
																		 </div>
																		 {{job.clientPhoneNumber}}																<br/>
																		 <button class="callbutton">Call</button>
																	 </div>
																	 <div class="col-sm-4 col-4 upcomingright">
																				 
																			 <button type="button" class="btn btn-danger whitetext" >delete {{job.vendorJobsId}}</button>
																	 </div>
																 </div>
															 </div> 
												</ng-template>
											</ngb-tab>
											<ngb-tab title="All">
												<ng-template ngbTabContent>
														<div class="upcominglisthomepage"  *ngFor="let job of jobArray ; let i = index" >
																<div class="col-sm-5 col-8">
																	<i class="material-icons">date_range</i>  {{job.jobDate |  date:'medium' }}<br/>
																	<ul>
																		<li>Guests: {{job.numberOfPeople}}</li>
																		<li>Name: {{job.clientName}}</li>
																	</ul>
																</div>
																<div class="col-sm-3 col-4 upcomingright">
																	<div>
																		<i class="material-icons ">location_on
																		</i>{{job.jobLocation}}
																	</div>
																	{{job.clientPhoneNumber}}																<br/>
																	<button class="callbutton">Call</button>
																</div>
																<div class="col-sm-4 col-4 upcomingright">
																			
																		<button type="button" (click)= "deletevent(job,i)" class="btn btn-danger whitetext" >delete {{job.vendorJobsId}}</button>
																	</div>
														</div> 
												</ng-template>
											</ngb-tab>
										</ngb-tabset>
									</div>
								</div>
							</div>
						</div>     
					</div> 
				</section>
				<section id="calendartabing" class="col-sm-12" style="display: none;">
					<div class="col-sm-12">
						<section id="calendar">
							<div class="card">
								<div class="card-body">
									<div class="card-block">
										<div class="d-flex flex-wrap justify-content-md-between xs-1 mb-3 no-gutters">
											<div class="col-sm-4 col-2 text-left">
												<div class="btn-group">
													<i class="material-icons" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate">arrow_back</i>
												</div>
											</div>
											<div class="col-sm-4 text-center col-8">
												<h6 class="text-uppercase mb-0 text_weight"> {{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}  </h6>
											</div>
											<div class="col-sm-4 col-2 text-right">
												<div class="btn-group">
												<i class="material-icons" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate">arrow_forward</i>
												</div>
											</div>
										</div>
										<div [ngSwitch]="view">
											<mwl-calendar-month-view *ngSwitchCase="'month'" 
											[viewDate]="viewDate"
											 [events]="events" [refresh]="refresh" 
											 [activeDayIsOpen]="activeDayIsOpen" 
											 (dayClicked)="dayClicked($event.day)" 
											 (eventTimesChanged)="eventTimesChanged($event)" >
											</mwl-calendar-month-view>												
										</div>
									</div>
								</div>
							</div>
						</section>
					</div>
				</section>
			</div>	
	    </div>	
	</div>
	<div class="clearfix"></div>
</div>




<ng-template #modalContent let-close="close" class="even_picker">

	<div class="card-block" style="background: #fff;">
		<div class="modal-header">
			<h5 class="modal-title">{{ modalData?.action }}</h5>
			<button type="button" class="close" (click)="close()">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>

		<div class="modal-body">
				<div class="form-group">
						<label>Client Name</label>	
			      <input 
					type="text" 
					name="event-contactname" 
					class="effect-16" 
					[(ngModel)]="modalData?.event.clientName" 
					(keyup)="refresh.next()"
					>
					
				
		        </div>
			<div class="form-group">
				<label>Event Title:</label>
				<input type="text" name="event-title" class="form-control" [(ngModel)]="modalData?.event.title" (keyup)="refresh.next()">
			</div>
			<div class="form-group">
					<input
						type="text" 
						name="event-contactnumber" 
						class="effect-16" 
						[(ngModel)]="modalData?.event.contactnumber" 
						(keyup)="refresh.next()">
					<label>Client Number</label>
					
			</div>
			<div class="form-group">		
		            <input 
					type="text
					" name="event-location"
						class="effect-16"
						[(ngModel)]="modalData?.event.location" 
						(keyup)="refresh.next()">
					<label>Event Location:</label>
	        </div>				
			<div class="row">
				<div class="col-md-6 col-12">
					<div class="form-group">
						<label>Primary Color:</label>
						<input type="color" name="primary-color" [(ngModel)]="modalData?.event.color.primary" (change)="refresh.next()">
					</div>	
				</div>
				<div class="col-md-6 col-12">
					<div class="form-group">
						<label>Secondary Color:</label>
						<input type="color" name="secondary-color" [(ngModel)]="modalData?.event.color.secondary" (change)="refresh.next()">
					</div>	
				</div>
			</div>
			<div class="row">
				<div class="col-md-6 col-12">
					<div class="form-group">
						<label>Starts At:</label>
						<mwl-demo-utils-date-time-picker name="starts-at" [(ngModel)]="modalData?.event.start" (ngModelChange)="refresh.next()" placeholder="Not set">
						</mwl-demo-utils-date-time-picker>
					</div>
				</div>
				<div class="col-md-6 col-12">
					<div class="form-group">
						<label>Ends At:</label>
						<mwl-demo-utils-date-time-picker name="ends-at" [(ngModel)]="modalData?.event.end" (ngModelChange)="refresh.next()" placeholder="Not set">
						</mwl-demo-utils-date-time-picker>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button type="submit" class="btn btn-outline-secondary"  (click)="job(modalData)" (click)="close()">SAVE</button>
			<button type="button" class="btn btn-outline-secondary" (click)="close()">CANCEL</button>
		</div>
	</div>
	
</ng-template> 

	<router-outlet></router-outlet>