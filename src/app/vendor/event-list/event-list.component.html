<div id="wrapper" class="toggled">
    <div id="sidebar-wrapper">
      <app-vendorsidebar></app-vendorsidebar>
    </div>
    <div id="page-content-wrapper">
      <app-navemenu></app-navemenu>
      <router-outlet></router-outlet>
      <div class="container-fluid mobilefixedcontainer">
        <div class="col-sm-12 card">
          <div class="createmyalbum">
  
            <div class=" text-center">
              <h2>MY EVENTS </h2>
              <span>Increase your brand awareness through event hosting. It's free! </span>
            </div>
  
            <ul class="tabbingdesign">
              <li class="card-title selected Suppliertab " (click) = "past_upcomming_event(1)">Past Event</li>
              <li class="card-title  Registertab" (click) = "past_upcomming_event(2)">Upcoming Event</li>
            </ul>
          </div>
          <div class="clearfix"></div>
          <div class="col-md-12">
            <div class="">
              <div class="col-md-12 nopadd">
                <div class="serchbox" >
                    <form (ngSubmit)="search_event(s)" #s="ngForm">
                      <input type="text" placeholder="Search...." name="search">
                      <button type="submit" class="btn btn-small btn-link">
                        search</button>
                    </form>    
                </div>
                <button class="btn btn-small btn-link" (click)="twitterDailog = true" >
                    <i class="material-icons"> add </i> 
                    <span>
                         <strong> Create New Event</strong>
                    </span>
                  </button>
                <!--Commented By Raj-->
                <!-- <form (ngSubmit)="addFile(info)" #info="ngForm" class="padding-left: 84%">
                  <input #fileInput type="file" [(ngModel)]="gallery.files" name="image" id="image" />
                  <button type="submit" class="btn btn-small btn-link">
                    <i class="material-icons"> add </i>
                    upload event image 
                  </button>
                  <span class="focus-border"></span>
                </form> -->
              </div>

              <div class="clearfix"></div>
              <section>
              
                <div class="col-sm-12 nopadd" *ngFor="let data of eventArray;let i=index ">
                  <div class="card martop0px  eventbox" >   
                    <div class="row eventrow ">
                        <div class="col-4 ">
                            <img [src]="data.files.path" class="img-responsive">  
                       
                        </div>
                        <div class="col-6 ">
                            <div class="col-12">

                                <div class="club_heading">
                                  <h5> {{data.eventTitle}} </h5>
                                </div>
                                <p>
                                  Capacity:{{data.capacity}}
                                </p>
                                <p>Venue:{{data.venueName}}
                                </p>
                                <p>Event Town:{{data.location}}
                                </p>
                                <p>Entry Fee:{{data.entryFee}}
                                </p>
                                <p class="locat_tag">
                                  <i class="material-icons"> location_on</i>
                                  {{data.location}}
                                </p>
                                <div class="col-md-12 nopadd row col-12 margin_p mob_font_12px mob_font_14px">
                                   <div class="col-sm-1">
                                     <i class="material-icons">access_time </i>
                                    </div> 
                                    <div class="col-sm-11">
                                  <p  *ngFor="let name of data.eventsDates">
                                    <strong> Start Time {{name.startTime | date :
                                      "shortTime" }}</strong>
                                  </p>
  
                                  <p *ngFor="let name of data.eventsDates">
                                    <strong>End
                                        Time {{name.endTime | date : "shortTime" }}
                                      </strong>
                                    </p>
                                    </div>
                                    <div class="col-sm-12">
                                    <p  *ngFor="let name of data.eventsDates">
                                        <i class="material-icons">date_range </i><strong>
                                          Event start Date : {{name.startDate | date}}<br>
                                          Event end Date  :  {{name.endDate | date}}<br>
                                         
                                        </strong>
                                      </p>
                                    </div>
                                </div>

                               
                               
                                
                            </div>
                        </div>  
                        <div class="col-2 tikdiv">
                            <button class="btn btn-success whitetext btn-rounded" (click)="editevent(data) "
                            id="description-function">Edit</button>
                              <!-- {{data.eventId}} -->
                            
                            <button class="btn btn-warning whitetext btn-rounded" (click)="deletevent(data,i)">
                              Delete
                            </button>
                            <!-- {{data.eventId}} -->
                        </div>
                      </div>  

                  </div>
                </div>
              </section>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <form (ngSubmit)="event(objevent)" #list="ngForm">
      <div class="modal fade" [ngClass] = "{'show' : twitterDailog}" id="facebook" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title"><b>Create Event</b></h4>
                <button type="button" class="close" (click) = "closeModel(list)">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
           
            <div class="modal-body">
                <div class="col-sm-12 nopadd rowpaddadjust">
                  <div class="col-sm-6">
                      <div class="form-group">
                          <div class="input-effect form-group md-form ">
                              <input class="effect-16 validate" 
                               #fileInput 
                               type="file" 
                               name="image" 
                               id="image" 
                               (change)="onFileChanged($event)" />
                              <label>Event Image</label>
                            <span class="focus-border"></span>
                            </div>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                          <div class="input-effect form-group md-form ">
                            <input class="effect-16 validate" 
                            [(ngModel)]="objevent.eventTitle" 
                            id="Title" 
                            name="Title"
                            (keypress)="Titleee($event)" 
                            placeholder="required">
                           <small class="form-text text-muted danger" >{{Titlee}}</small>
                            <label>Title</label>
                            <span class="focus-border"></span>
          
                          </div>
                        </div>
                  </div>
                </div>
                <div class="clearfix"></div>        
                <input type="hidden" name="filesId" id="filesId" [value]="fileIdfield.filesId" [(ngModel)]="objevent.filesId">
                
                <div class="col-sm-12 nopadd rowpaddadjust">
                
                <div class="col-sm-6">
                <div class="form-group">
                    <div class="input-effect form-group md-form">

                      <input class="effect-16 validate" 
                        type="date"
                        name="startDate" 
                        id="eventdate" 
                        [(ngModel)]="objevent.startDate" 
                        (keypress)="startDatess($event)" 
                        style="width:100%;">
                      <label style="width:100%;"> Start date : </label> 
                      <small class="form-text text-muted danger" >{{startDates}}</small>

                      <span class="focus-border"></span>
                    </div>
                </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <div class="input-effect form-group md-form">
                           
                                <div class="form-group date_picker">
                                  <label>
                                    <a>start time </a>
                                  </label><br>
                                  <input type="time" class="form-control"  [(ngModel)]="startTimee"  name="startTime" id="startTime"/>
                              
                                </div>
                            
                         
                        </div>
                    </div>
                    </div>
                </div>

              
                <div class="clearfix"></div>
                <div class="col-sm-12 nopadd date_picker">
                    <div class="col-sm-6">
                        <div class="form-group date_picker">
                            <input class="effect-16 validate"  
                            type="date"
                            name="endDate" 
                            id="eventdate"
                            (keypress)="endDatess($event)" 
                            [(ngModel)]="objevent.endDate" 
                            style="width:100%;">
                            <label style="width:100%;">End  date: </label> 
                            <small class="form-text text-muted danger" >{{endDate}}</small>
                            <span class="focus-border"></span>
                        </div>
                     </div>
                  <div class="col-sm-6">
                        <div class="form-group">
                          <label>
                            <a>end time</a>
                          </label><br>
                          <input type="time"
                           class="form-control"  
                           name="endTime" 
                           id="endTime" 
                          
                           [(ngModel)]="endtime"/>
                     
                        </div>
                    </div>                  
                </div>
                <div class="col-sm-12 nopadd rowpaddadjust">
                      <div class="col-sm-6">
                        <div class="form-group">
                            <div class="input-effect form-group md-form ">
                              <input type="text" class="effect-16 validate" 
                              [(ngModel)]="objevent.venueName" 
                              name="venueName"
                              id="venueName"
                              (keypress)="venueNamees($event)" 
                              placeholder="required">
                              <small class="form-text text-muted danger" >{{venueNamee}}</small>
                              <label>VenueName</label>
                              <span class="focus-border"></span>
                            </div>
                        </div>
                      </div>
                      <div class="col-sm-6">
                          <div class="form-group">
                              <div class="input-effect form-group md-form ">
                                <select class="effect-16 validate" id="Country" [(ngModel)]="objevent.countryId" name="country_id" (change)="country($event)">
                                  <option *ngFor="let country of arra ;let c =index" type="text" id="{{country.countryName}}" checked name="countryName"
                                    placeholder="Country" [value]="c" required>
                                    {{country.countryName }}
                
                                  </option>
                
                                </select>
                
                                <span class="focus-border"></span>
                              </div>
                            </div>
                      </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group">
                    <div class="input-effect form-group md-form ">
                      <input type="text" class="effect-16 validate" 
                      [(ngModel)]="objevent.eventDescription"
                      name="eventDescription" 
                      id="eventDescription"
                      (keypress)="eventDescriptionss($event)" 
                      placeholder="required"
                      >
      
                      <label>Description</label>
                      <small class="form-text text-muted danger" >{{eventDescriptions}}</small>
                      
                      <!-- <small class="form-text text-muted danger" *ngIf="eventDescriptions.errors?.required">required error</small> -->
                      <span class="focus-border"></span>
                    </div>
                </div>
                <div class="col-sm-12 nopadd rowpaddadjust">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <div class="input-effect form-group md-form ">
                          <select name="district" class="effect-16 validate" [(ngModel)]="objevent.districtId" name="dist_id" (change)="districtA($event)">
                            <option *ngFor="let dist of district ;let d =index" type="text" id="{{dist.name}}" checked name="dist"
                              placeholder="Country" [value]="d" required>
                              {{dist.name }}
  
                            </option>
  
                          </select>
  
                          <span class="focus-border"></span>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <div class="input-effect form-group md-form ">
                          <select class="effect-16 validate" [(ngModel)]="objevent.suburbId" name="sub_id" (change)="subr($event)">
                            <!-- (change)="country($event)" -->
                            <option *ngFor="let sub of suburb ;let s =index" type="text" id="{{sub.name}}" checked name="sub"
                              placeholder="Suburb" [value]="s" required>
                              {{sub.name }}
  
                            </option>
  
                          </select>
  
                          <span class="focus-border"></span>
                        </div>
                      </div>
                    </div>
                </div>

                <div class="col-sm-12 nopadd rowpaddadjust">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <div class="input-effect form-group md-form ">
                          <input type="text" class="effect-16 validate"
                            [(ngModel)]="objevent.location"
                            name="Location"
                            id="Location"
                            (keypress)="locations($event)" 
                            placeholder="required"
                            >
                            <small class="form-text text-muted danger" >{{location}}</small>
                            <!-- <small class="form-text text-muted danger" *ngIf="Locations.errors?.required">required error</small> -->
                          <label>Location</label>
                          <span class="focus-border"></span>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <div class="input-effect form-group md-form ">
                          <input type="text" class="effect-16 validate" 
                          [(ngModel)]="objevent.capacity"
                          name="Capacity"
                          id="Capacity"
                          (keypress)="capacitys($event)" 
                          minlength="1" 
                          pattern="^-?([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)$"
                          placeholder="required">
                          <label>Capacity</label>
                          <small class="form-text text-muted danger" >{{capacity}}</small>
                         <!-- <small class="form-text text-muted danger" *ngIf="Capacitys.errors?.required">required error</small> -->
                          <span class="focus-border"></span>
                        </div>
                      </div>
                    </div>
                </div>
                <div class="col-sm-12 nopadd date_picker">
                  <div class="col-sm-6">
                      <div class="form-group marbot0px">
                          <div class="input-effect form-group md-form marbot0px">
                            <select 
                            [(ngModel)]="objevent.entry" 
                            class="effect-16 validate marbot0px"
                             name="entry" 
                             id="entry"
                             (keypress)="entrys($event)" >
                             <small class="form-text text-muted danger" >{{entry}}</small>
                              <option value='Paid'>Paid</option>
                              <option value='Free'>Free</option>
                            </select>
                            <label>Entry</label>
                            <span class="focus-border"></span>
                          </div>
                        </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group marbot0px">
                          <div class="input-effect form-group md-form marbot0px">
                            <input type="text" class="effect-16 validate marbot0px" 
                            [(ngModel)]="objevent.entryFee" 
                            name="entryFee"
                            id="entryFee"
                            (keypress)="entryFeess($event)" 
                            placeholder="required">
            
                            <label>entryFee</label>
                            <small class="form-text text-muted danger" >{{entryFees}}</small>
                            <!-- <small class="form-text text-muted danger" *ngIf="entryFees.errors?.required">required error</small> -->
                            <span class="focus-border"></span>
                          </div>
                        </div>
                  </div>
                </div>
              
            </div> 
            <div class="modal-footer marbot0px">
                <button type="submit"  class="btn newbtn">Save</button>
  
                <button type="button" class="btn newbtn newcancelbtn"  (click) = "closeModel(list)">Cancel</button>
              </div>
          </div>       
        </div>          
      </div>               
  </form>


  <form (ngSubmit)="editsave(data)" #data="ngForm">
    <div class="modal fade " [ngClass] = "{'show' : eventupdaterDailog}" id="Description" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title">Edit Event</h4>
                <button type="button" class="close btn_mar_padd" (click) = "closeModel(list)">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
              <div class="col-sm-12 nopadd">
                  <div class="form-group">
                      <div class="input-effect form-group md-form ">
                        <input class="effect-16 validate whitebg" required="required" 
                        [ngModel]="modelfield.eventTitle" 
                        id="Title"
                        name="Title"
                        #Title="ngModel" 
                        required 
                        placeholder="required">
                        <small class="form-text text-muted danger" *ngIf="Title.errors?.required">required error</small>
                        <input  
                        type="hidden" 
                        [(ngModel)]="modelfield.eventId" 
                        id="id" 
                        name="eventId">
        
                        <input 
                        type="hidden" 
                        [(ngModel)]="modelfield.filesId" 
                        id="id" 
                        name="filesId">
        
                     
                        <label>Title</label>
                        <span class="focus-border"></span>
                      </div>
                    </div>
              </div>
              <div class="col-sm-12 nopadd rowpaddadjust">
                      <div class="col-sm-6">
                        <div class="form-group">
                            <div class="input-effect form-group md-form ">
                              <input type="text" class="effect-16 validate" 
                              [(ngModel)]="objevent.venueName" 
                              name="venueName"
                              id="venueName"
                              #venueNames="ngModel" 
                              required 
                              placeholder="required">
                              <small class="form-text text-muted danger" *ngIf="venueNames.errors?.required">required error</small>
                
                              <label>VenueName</label>
                              <span class="focus-border"></span>
                            </div>
                        </div>
                      </div>
                      <div class="col-sm-6">
                          <div class="form-group">
                              <div class="input-effect form-group md-form ">
                                <select class="effect-16 validate" id="Country" [(ngModel)]="objevent.countryId" name="country_id" (change)="country($event)">
                                  <option *ngFor="let country of arra ;let c =index" type="text" id="{{country.countryName}}" checked name="countryName"
                                    placeholder="Country" [value]="c" required>
                                    {{country.countryName }}
                
                                  </option>
                
                                </select>
                
                                <span class="focus-border"></span>
                              </div>
                            </div>
                      </div>
                </div>
                <div class="col-sm-12 nopadd rowpaddadjust">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <div class="input-effect form-group md-form ">
                          <select name="district" class="effect-16 validate" [(ngModel)]="objevent.districtId" name="dist_id" (change)="districtA($event)">
                            <option *ngFor="let dist of district ;let d =index" type="text" id="{{dist.name}}" checked name="dist"
                              placeholder="Country" [value]="d" required>
                              {{dist.name }}
  
                            </option>
  
                          </select>
  
                          <span class="focus-border"></span>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <div class="input-effect form-group md-form ">
                          <select class="effect-16 validate" [(ngModel)]="objevent.suburbId" name="sub_id" (change)="subr($event)">
                            <!-- (change)="country($event)" -->
                            <option *ngFor="let sub of suburb ;let s =index" type="text" id="{{sub.name}}" checked name="sub"
                              placeholder="Suburb" [value]="s" required>
                              {{sub.name }}
  
                            </option>
  
                          </select>
  
                          <span class="focus-border"></span>
                        </div>
                      </div>
                    </div>
                </div>
           
        
              <div class="col-sm-6">
                  <div class="form-group">
                      <div class="input-effect form-group md-form">
                        <input class="effect-16 validate"  type="date" name="startDate" id="eventdate" [(ngModel)]="startDates" style="width:100%;">
                        <label style="width:100%;"> start date : {{startDates}}</label> 
                        <span class="focus-border"></span>
                      </div>
                  </div>
                </div>  
                <div class="col-sm-6">
                    <div class="form-group date_picker">
                      <label>
                        <a>start time </a>
                      </label><br>
                      <input type="time" class="form-control"  [(ngModel)]="startimee"  name="startTime" id="startTime"/>
                    </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                      <div class="input-effect form-group md-form">
                        <input class="effect-16 validate"  type="date" name="endDate" id="eventdate" [(ngModel)]="endDates" style="width:100%;">
                        <label style="width:100%;">end  date: {{endDates}}</label> 
                        <span class="focus-border"></span>
                      </div>
                  </div> 
                </div>  
              <div class="col-sm-6">
                    <div class="form-group date_picker">
                      <label>
                        <a>end time</a>
                      </label><br>
                      <input type="time" class="form-control"  name="endTime" id="endTime" [(ngModel)]="endtime"/>
                    
                      <!-- <select  >
                        <option>AM</option>
                        <option>PM</option>
                      </select> -->
                    </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <div class="input-effect form-group md-form ">
                    <input type="text" class="effect-16 validate" required="required" 
                    [ngModel]="modelfield.location"
                    name="Location" 
                    id="Location"
                    #Location="ngModel" 
                    required 
                    placeholder="required">
                    <label>Location</label>
                    <small class="form-text text-muted danger" *ngIf="Location.errors?.required">required error</small>
                    <span class="focus-border"></span>
                  </div>
                </div>
              </div>
            
        
              <div class="col-sm-6">
                <div class="form-group marbot0px">
                  <div class="input-effect form-group md-form marbot0px">
                    <input type="text" class="effect-16 validate marbot0px" required="required" 
                    [ngModel]="modelfield.entryFee"
                    name="entryFee" 
                    id="entryFee"
                    #entryFee="ngModel" 
                    required 
                    placeholder="required">
  
                    <label>entryFee</label>
                    <small class="form-text text-muted danger" *ngIf="entryFee.errors?.required">required error</small>
                    <span class="focus-border"></span>
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                  <div class="form-group">
                    <div class="input-effect form-group md-form ">
                      <input type="text" class="effect-16 validate" required="required" 
                      [ngModel]="modelfield.entry" 
                      name="entry"
                      id="entry"
                      #entry="ngModel" 
                      required 
                      placeholder="required">
    
                      <label>Entry</label>
                      <small class="form-text text-muted danger" *ngIf="entry.errors?.required">required error</small>
    
                      <span class="focus-border"></span>
                    </div>
                  </div>
              </div> 
              <div class="col-sm-6">
                  <div class="form-group">
                    <div class="input-effect form-group md-form ">
                      <input type="text" class="effect-16 validate" required="required" 
                      [ngModel]="modelfield.eventDescription"
                      name="eventDescription" 
                      id="eventDescription"
                      #eventDescription="ngModel" 
                      required 
                      placeholder="required">
                      <label>Description</label>
                      <small class="form-text text-muted danger" *ngIf="eventDescription.errors?.required">required error</small>
                      <span class="focus-border"></span>
                    </div>
                  </div>
                </div>  
            
              <div class="col-sm-6">
                <div class="form-group marbot0px">
                  <div class="input-effect form-group md-form marbot0px">
                    <input type="text" class="effect-16 validate marbot0px" required="required" 
                    [ngModel]="modelfield.venueName"
                    name="venueName" 
                    id="venueName"
                    #venueName="ngModel" 
                    required 
                    placeholder="required">
    
                    <label>VenueName</label>
                    <small class="form-text text-muted danger" *ngIf="venueName.errors?.required">required error</small>
                    <span class="focus-border"></span>
                  </div>
                </div>
             </div> 
             <div class="col-sm-6">
                <div class="form-group">
                  <div class="input-effect form-group md-form ">
                    <input type="text" class="effect-16 validate" required="required" 
                    [ngModel]="modelfield.capacity"
                    name="Capacity" 
                    id="Capacity"
                    #Capacity="ngModel" 
                    required 
                    (keypress)="capacitys($event)" 
                    pattern="^-?([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)$"
                    placeholder="required">
                    <label>Capacity</label>
                    <small class="form-text text-muted danger" *ngIf="Capacity.errors?.required">required error</small>
                    <span class="focus-border"></span>
                  </div>
                </div>
                </div>
           
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn newbtn"  >Save</button>
  
              <button type="button" class="btn  newbtn newcancelbtn" (click) = "closeModel(list)">Cancel</button>
            </div>
        </div>
      </div>
    </div>

  </form>

