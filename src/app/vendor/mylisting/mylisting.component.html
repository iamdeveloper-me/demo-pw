<!-- Card Dark -->
<div id="wrapper" class="toggled">
  <div id="sidebar-wrapper" >
      <app-vendorsidebar></app-vendorsidebar>
  </div>
  <div id="page-content-wrapper">    
      <router-outlet></router-outlet> 
      <div class="content">
        <div id ="navmenu">
          <app-navemenu></app-navemenu>
        </div>
        <section *ngIf="countryArray && optionSelected != 7" class="Reviews_page container-fluid mobilefixedcontainer">
            <div class="man_info">
              <!-- code by v -->
                <select class='select-option sortselect' required [(ngModel)]='optionSelected' (ngModelChange)='onOptionsSelected($event)'>
                    <option class='option' *ngFor='let option of options' [value]="option.value">{{option.key}}</option>
                </select>
                <div class="clearfix"></div>
                <div class="col-sm-12">


                  <!-- Hemant Review up -->

                    <section id="paging" class="mb-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="content-header">Paging</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <ngx-datatable class="bootstrap" [rows]="rows" [columns]="[{sendByFirstName:'Name'},{sendByEmail:'Gender'},{reviewId:'Company'}]" [columnMode]="'force'"
                                    [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'" [limit]="10">
                                </ngx-datatable>
                            </div>
                        </div>
                    </section>

                  <!-- Hemant Review up -->
                  <div *ngFor="let category of countryArray.items" ngClass="{active: n == countryArray.page}">
                          <!--    <a (click)="search(n)" *ngIf="n != countryArray.page">{{n+1}}</a> -->
                              <span *ngIf="n == countryArray.page">{{n+1}}</span>
                              <div class="man_img" >
                                  <img src="https://s3.us-east-2.amazonaws.com/prefect-image/cake.jpg" alt=""> 
                                  <span class="revie_name"> <strong> {{category.sendByFirstName}} {{category.sendByLastName}}</strong> 
                                  
                                      <span class="weeks_ago"> {{category.dateAddedOnString}}</span>
                                      <span class="weeks_ago">  {{category.sendByEmail}}</span>
                                  </span>

                                  <span class="reviewbadge badge badge-secondary" (click)="ReviewReadStatus(category.reviewId, 1)"> 
                                      <div *ngIf = "category.reviewStatusString == 'Unread'"> New</div>
                                                                           
                                    </span>  
                                  <div>  
                                    <button class="graypin" *ngIf = "category.isPinned == false" (click)="GetMarkAsPinned(category.reviewId)"><i class="fa fa-thumb-tack" aria-hidden="true"></i>
                                    </button>
                                  
                                    <button class="pin_tack" *ngIf = "category.isPinned == true " (click)="GetMarkAsPinned(category.reviewId)"><i class="fa fa-thumb-tack" aria-hidden="true"></i>
                                    </button>
                                  </div> 
                                  <div class="clearfix"></div>
                                  <div class="rating_star">
                                      <rating [(ngModel)]="category.rating" readonly="isReadonly"   ></rating>
                                  </div><!-- {{category.rating}} -->
                                  <div class="textemail">
                                    <p class="breakword"> {{category.comments}}</p>
                                  </div>
                                  <div class="clearfix"></div>
                                  <div class="man_img1 reply_mas"  *ngIf = "category.feedback != null">
                                    <img alt="" src="https://s3.us-east-2.amazonaws.com/prefect-image/cake.jpg">
                                    <span class="revie_name"> Your Reply : </span>
                                    <div class="clearfix"></div>
                                      <div class="Reply_date">
                                        <div class="text-left"> {{category.feedback}}</div>
                                        <p class="weeks_ago"> <i class="material-icons" style="float: left;margin-right:5px;">access_time</i> 8 Aug 2018 </p>

                                        <button (click)= "open(category)" class="btn btn-lg btn-success">Edit Reply</button>
                                      </div>
                                     
                                  </div>
                                  <div class="clearfix"></div>
                                  <div class="reply_mas text-center btn_button" *ngIf = "!category.feedback">
                                      <form (ngSubmit)="feed_baack(e)" #e="ngForm">
                
                                        <textarea type="text" name="feedback" [ngModel] = "reply" class="replytextbox"> </textarea>
                                        <input type="hidden"  name="reviewId" [ngModel] = "category.reviewId">
                                        <button type= "submit" class="btn btn-lg btn-success replybtn">Reply</button>
                                      </form>
                                  </div>
                                   <div class="clearfix"></div>
                                </div>
                  </div>
                </div>
            </div>     
        </section> 
        <section *ngIf="countryArray && optionSelected == 7" class="Reviews_page container-fluid mobilefixedcontainer">
            <div class="man_info">
              <!-- code by v -->
              <select class='select-option sortselect' required [(ngModel)]='optionSelected' (ngModelChange)='onOptionsSelected($event)'>
                <option class='option' *ngFor='let option of options' [value]="option.value">{{option.key}}</option>
              </select>

            <div class="clearfix"></div>
            <div class="col-sm-12">
              <div *ngFor="let category of countryArray.items" ngClass="{active: n == countryArray.page}">
                       <!--    <a (click)="search(n)" *ngIf="n != countryArray.page">{{n+1}}</a> -->
                          <span *ngIf="n == countryArray.page">{{n+1}}</span>
                          <div class="man_img" *ngIf="category.isPinned == true">
                              <img src="https://s3.us-east-2.amazonaws.com/prefect-image/cake.jpg" alt=""> 
                              <span class="revie_name"> <strong> {{category.sendByFirstName}} {{category.sendByLastName}}</strong> 
                              
                                  <span class="weeks_ago"> {{category.dateAddedOnString}}</span>
                                  <span class="weeks_ago">  {{category.sendByEmail}}</span>
                              </span>

                              <span class="reviewbadge badge badge-secondary"> 
                                <div *ngIf = "category.reviewStatusString == 'unread'"> New</div>
                               
                                 
                              </span> 
                              
                              <div>  
                                <button class="graypin" *ngIf = "category.isPinned == false" (click)="GetMarkAsPinned(category.reviewId)"><i class="fa fa-thumb-tack" aria-hidden="true"></i>
                                </button>
                              
                                <button class="pin_tack" *ngIf = "category.isPinned == true " (click)="GetMarkAsPinned(category.reviewId)"><i class="fa fa-thumb-tack" aria-hidden="true"></i>
                                </button>
                              </div> 
                              <div class="clearfix"></div>
                              <div class="rating_star">
                                  <rating [(ngModel)]="category.rating" readonly="isReadonly"   ></rating>
                              </div><!-- {{category.rating}} -->
                              <div class="textemail">
                                <p class="breakword"> {{category.comments}}</p>
                              </div>
                              <div class="clearfix"></div>
                              <div class="man_img1 reply_mas"><img alt="" src="https://s3.us-east-2.amazonaws.com/prefect-image/cake.jpg">
                                <span class="revie_name"> Your Reply : </span>
                                  <div class="Reply_date"><span> {{category.feedback}}</span>
                                    <p class="weeks_ago"> - 8 Aug 2018 </p>
                                  </div>
                              </div>
                              <div class="btn_button text-center">
                                  <form (ngSubmit)="feed_baack(e)" #e="ngForm">
            
                                    <textarea type="text" name="feedback" [ngModel] = "reply"> </textarea>
                                    <input type="hidden"  name="reviewId" [ngModel] = "category.reviewId">
                                    <button type= "submit" class="btn btn-lg btn-success">Reply</button>
                                  </form>
                              </div>
                            </div>
                      </div>
                  
            </div>
            
          
              
            </div> 
        </section>
        <!-- code by v -->
        <div class="col-sm-12" *ngIf="c ==0">
          <div class="card text-center">
            <div class="paddtop10px">
              <i class="material-icons">star_border</i>
              <i class="material-icons">star_border</i>
              <i class="material-icons">star_border</i>
              <i class="material-icons">star_border</i>
              <i class="material-icons">star_border</i>
            </div>
              <p class="lineheight30px">Their are no customer review yet.</p>
          </div>
        </div>
      </div>
     <div class="clearfix"></div>
  </div> 
</div>
<router-outlet></router-outlet>

<div class="modal fade" [ngClass] = "{'show' : edit_re}" id="Business" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title">Edit Reply</h4>
                <button type="button" class="close btn_mar_padd" (click)="closeModel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <form (ngSubmit)="feed_baack(e)" #e="ngForm">
              <div class="modal-body">
                  <div class="col-sm-12">
                    <div class="field">
                          <textarea type="text" placeholder="Feedback Message" id="feedback" name="feedback" [ngModel] = "modify_reply.feedback"> </textarea>
                          <label for="feedback">Feedback Message</label>
                          <input type="hidden"  name="reviewId" [ngModel] = "modify_reply.reviewId">
                          </div>
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="submit" class="btn namesave newbtn">Save</button> 
                  <button type="button" class="btn newbtn newcancelbtn" (click)="closeModel()">Cancel</button>
              </div>
            </form>
        </div>
    </div>
</div>
